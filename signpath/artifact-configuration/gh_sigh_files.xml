<?xml version="1.0" encoding="utf-8"?>
<artifact-configuration
    xmlns="http://signpath.io/artifact-configuration/v1"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://signpath.io/artifact-configuration/v1 https://app.signpath.io/Web/artifact-configuration/v1.xsd"
>
    <parameters>
        <!-- Example: 1.17 -->
        <parameter name="iconvPEVersion" required="true" />
        <!-- Example: 0.22.5a -->
        <parameter name="gettextPEVersion" required="true" />
        <!-- Example: 0.22.5 -->
        <parameter name="gettextPEVersionNumeric" required="true" />
    </parameters>
    <zip-file>
        <pe-file-set>
            <!-- iconv -->
            <include path="bin/iconv.exe" min-matches="1" max-matches="1" product-name="iconv: character set conversion program" product-version="${iconvPEVersion}" />
            <include path="bin/libiconv-*.dll" min-matches="0" max-matches="1" product-name="libiconv: character set conversion library" product-version="${iconvPEVersion}" />
            <!-- gettext -->
            <include path="bin/cldr-plurals.exe" min-matches="0" max-matches="1" product-name="GNU gettext utilities" product-version="${gettextPEVersion}" />
            <include path="bin/envsubst.exe" min-matches="0" max-matches="1" product-name="GNU gettext utilities" product-version="${gettextPEVersion}" />
            <include path="bin/gettext.exe" min-matches="0" max-matches="1" product-name="GNU gettext utilities" product-version="${gettextPEVersion}" />
            <include path="bin/libasprintf-*.dll" min-matches="0" max-matches="1" product-name="GNU libasprintf: automatic formatted output" product-version="1.0" />
            <include path="bin/libgettextpo-*.dll" min-matches="0" max-matches="1" product-name="GNU libgettextpo: public API for PO files" product-version="${gettextPEVersion}" />
            <include path="bin/libintl-*.dll" min-matches="0" max-matches="1" product-name="GNU libintl: accessing NLS message catalogs" product-version="${gettextPEVersionNumeric}" />
            <include path="bin/libtextstyle-*.dll" min-matches="0" max-matches="1" product-name="GNU libtextstyle: Text styling library" product-version="${gettextPEVersionNumeric}" />
            <include path="bin/msgattrib.exe" min-matches="0" max-matches="1" product-name="GNU gettext utilities" product-version="${gettextPEVersion}" />
            <include path="bin/msgcat.exe" min-matches="0" max-matches="1" product-name="GNU gettext utilities" product-version="${gettextPEVersion}" />
            <include path="bin/msgcmp.exe" min-matches="0" max-matches="1" product-name="GNU gettext utilities" product-version="${gettextPEVersion}" />
            <include path="bin/msgcomm.exe" min-matches="0" max-matches="1" product-name="GNU gettext utilities" product-version="${gettextPEVersion}" />
            <include path="bin/msgconv.exe" min-matches="0" max-matches="1" product-name="GNU gettext utilities" product-version="${gettextPEVersion}" />
            <include path="bin/msgen.exe" min-matches="0" max-matches="1" product-name="GNU gettext utilities" product-version="${gettextPEVersion}" />
            <include path="bin/msgexec.exe" min-matches="0" max-matches="1" product-name="GNU gettext utilities" product-version="${gettextPEVersion}" />
            <include path="bin/msgfilter.exe" min-matches="0" max-matches="1" product-name="GNU gettext utilities" product-version="${gettextPEVersion}" />
            <include path="bin/msgfmt.exe" min-matches="0" max-matches="1" product-name="GNU gettext utilities" product-version="${gettextPEVersion}" />
            <include path="bin/msggrep.exe" min-matches="0" max-matches="1" product-name="GNU gettext utilities" product-version="${gettextPEVersion}" />
            <include path="bin/msginit.exe" min-matches="0" max-matches="1" product-name="GNU gettext utilities" product-version="${gettextPEVersion}" />
            <include path="bin/msgmerge.exe" min-matches="0" max-matches="1" product-name="GNU gettext utilities" product-version="${gettextPEVersion}" />
            <include path="bin/msgunfmt.exe" min-matches="0" max-matches="1" product-name="GNU gettext utilities" product-version="${gettextPEVersion}" />
            <include path="bin/msguniq.exe" min-matches="0" max-matches="1" product-name="GNU gettext utilities" product-version="${gettextPEVersion}" />
            <include path="bin/ngettext.exe" min-matches="0" max-matches="1" product-name="GNU gettext utilities" product-version="${gettextPEVersion}" />
            <include path="bin/recode-sr-latin.exe" min-matches="0" max-matches="1" product-name="GNU gettext utilities" product-version="${gettextPEVersion}" />
            <include path="bin/xgettext.exe" min-matches="0" max-matches="1" product-name="GNU gettext utilities" product-version="${gettextPEVersion}" />
            <!-- Missing metadata: see https://savannah.gnu.org/bugs/?66267
            <include path="bin/libcharset-*.dll" min-matches="0" max-matches="1" product-name="" product-version="" />
            <include path="bin/libgettextlib-*.dll" min-matches="0" max-matches="1" product-name="" product-version="" />
            <include path="bin/libgettextsrc-*.dll" min-matches="0" max-matches="1" product-name="" product-version="" />
            -->
            <!-- MinGW-w64 -->
            <!-- Excuded since we don't build them on our own
            <include path="bin/libatomic-*.dll" min-matches="0" max-matches="1" product-name="" product-version="" />
            <include path="bin/libgcc_s_seh-*.dll" min-matches="0" max-matches="1" product-name="" product-version="" />
            <include path="bin/libgcc_s_sjlj-*.dll" min-matches="0" max-matches="1" product-name="" product-version="" />
            <include path="bin/libgomp-*.dll" min-matches="0" max-matches="1" product-name="" product-version="" />
            <include path="bin/libquadmath-*.dll" min-matches="0" max-matches="1" product-name="" product-version="" />
            <include path="bin/libssp-*.dll" min-matches="0" max-matches="1" product-name="" product-version="" />
            <include path="bin/libstdc++-*.dll" min-matches="0" max-matches="1" product-name="" product-version="" />
            <include path="bin/libwinpthread-*.dll" min-matches="0" max-matches="1" product-name="" product-version="" />
            -->
            <for-each>
                <authenticode-sign />
            </for-each>
        </pe-file-set>
    </zip-file>
</artifact-configuration>